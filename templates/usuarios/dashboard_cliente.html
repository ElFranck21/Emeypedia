{% extends 'base.html' %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap">
<link rel="stylesheet" href="{% static 'css/dashboard.css' %}">

<div class="container">
    <!-- Sidebar -->
    <aside class="sidebar">
        <h4>Menú</h4>
        <ul>
            <li><a href="{% url 'perfil' %}">Mi perfil</a></li>
            <li><a href="{% url 'crear_articulo' %}">Subir Artículo</a></li>
            <li><a href="#">Ajustes</a></li>
            <li>
                <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#logoutModal">
                    Cerrar sesión
                </button>
            </li>
        </ul>
    </aside>

    <!-- Main content -->
    <main class="main-content">
        <h2>Bienvenido, {{ user.username }}</h2>

        <!-- Actividad reciente -->
        <div class="card">
            
            <h5>Artículos publicados</h5>
            <ul>
                {% if articulos %}
                    <ul>
                    {% for articulo in articulos %}
                        <li><a href="{% url 'detalle_articulo' articulo.id %}">{{ articulo.titulo }}</a></li>
                    {% endfor %}
                    </ul>
                {% else %}
                    <p>No has publicado artículos todavía.</p>
                {% endif %}

            </ul>
        </div>
        <div class="card">
            <h5>Comentarios recientes</h5>
            <ul>
                {% if comentarios %}
                    <ul>
                    {% for comentario in comentarios %}
                        <li>{{ comentario.texto }} en <a> {{ comentario.articulo.titulo }} </a> </li>
                    {% endfor %}
                    </ul>
                {% else %}
                    <p>No has hecho comentarios todavía.</p>
                {% endif %}
            </ul>
        </div>

        <!-- links -->
        <div class="card quick-links">
            <a href="#">Notificaciones ➡</a>
            <a href="#">Favoritos ➡</a>
            <a href="#">Estadísticas ➡</a>
            <a href="#">Más ➡</a>
        </div>
    <br>
    <br>
    <br>
    </main>

</div>
{% endblock %}
